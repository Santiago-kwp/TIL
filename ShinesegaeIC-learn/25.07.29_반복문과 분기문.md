# 25.07.29.(화) 반복제어문2 (반복문과 분기문)

- 쓰레드 : 각각의 독립된 기능을 수행할 수 있는 작업 단위. 하나의 어플리케이션 안에 여러 독립된 기능을 수행할 수 있는 단위임. 자바의 `main()`이 하나만 수행되는 것을 싱글 쓰레드라고 함.
    - 건물에 비유하자면, 하나의 건물 안에 다양한 기능을 하는 독립적인 기업들을 쓰레드라고 할 수 있음.
- 조건문 : 범위가 큰 것부터 끼우면서 처리. 필터라고 생각하면 된다.
    - 예외처리를 하게될 때에는 작은 것부터 끼우게 됨.
- 별 찍기 : 모양에 현혹되지 말고, 행과 열로 된 표로 생각하고, 행과 열 단위의 인덱스로 접근하자.
    - 왼쪽 삼각형 별 찍기
    
    ```java
    // j를 i만큼만 루프를 돌려라
        public static void main(String[] args) {
            for (int i = 1; i <= 4; i++) {
                for (int j = 1; j <= i; j++) {
                    System.out.print("*");
                }
                System.out.println();
            }
        }
    
    // 실행 결과    
    *
    **
    ***
    ****
    ```
    
    - 오른쪽 삼각형 별 찍기
    
    ```java
    public class StarEx03 {
        public static void main(String[] args) {
            for (int i = 1; i <= 4; i++) {
                for (int j = 5; j > 0; j--) {
                    if (i<j) {
                        System.out.print(" ");
                    } else {
                        System.out.print("*");
                    }
                }
                System.out.println();
            }
        }
    }
    // 실행 결과
        *
       **
      ***
     ****
    ```
    
    - 역 삼각형 별 찍기
    
    ```java
            for (int i = 1; i <= 4; i++) {
                for (int j = 5; j > i; j--) {
                    System.out.print("*");
                }
                System.out.println();
            }
            
    // 실행 결과
    ****
    ***
    **
    *
    ```
    
    - 오른쪽 역삼각형 별 찍기
    
    ```java
    public class StarEx05 {
        public static void main(String[] args) {
            for (int i = 1; i <= 4; i++) {
                for (int j = 1; j <= i; j++) { // _ 찍기
                    System.out.print("_");
                }
                for (int j = 5; j > i; j--) { // * 찍기
                    System.out.print("*");
                }
                System.out.println();
            }
        }
    }
    
    // 실행 결과
    _****
    __***
    ___**
    ____*
    ```
    
    - 피라미드 별 찍기
    
    ```java
    public class StarEx06 {
        public static void main(String[] args) {
            for (int i = 1; i <= 5; i++) {
                for (int j = 1; j <= 6-i; j++) { // _ 찍기
                    System.out.print("_");
                }
                for (int star = 1; star <= 2*i-1; star++) { // * 찍기
                    System.out.print("*");
                }
                System.out.println();
            }
        }
    }
    
    // 실행 결과
    _____*
    ____***
    ___*****
    __*******
    _*********
    ```
    
    - 다이아몬드 별 찍기
    
    ```java
    public class StarEx07 {
        public static void main(String[] args) {
            int n = 4;
            for (int row = -n; row <= n; row++) {
                for (int col = 1; col <= Math.abs(row); col++) { // 공백찍기
                    System.out.print(" ");
                }
                for (int col = 1; col <= 2 * (n - Math.abs(row)) + 1; col++) { // 별 찍기
                    System.out.print("*");
                }
                System.out.println();
            }
    
        }
    }
    
    // 실행 결과
        *
       ***
      *****
     *******
    *********
     *******
      *****
       ***
        *
    ```
    

- `while` 문
    - for 문의 경우 정해진 데이터를 마이그레이션하거나, 추출할 때 사용
    - while문의 경우 특정한 트리거가 나오면 종료하고 그 전에는 계속 루프를 돌아야 할 때 주로 사용
    
    ```java
    import java.util.Scanner;
    
    public class whileEx03 {
        public static void main(String[] args) {
            // 키보드에서 "1" 입력했을 때 속도를 증가, "2"를 입력하면 속도를 감소시키고
            // "3"을 입력하면 프로그램을 종료
    
            // 1. 입력 기능
            Scanner in = new Scanner(System.in);
    
            // 2. 속도의 증감을 비교할 변수
            boolean run = true;
    
            // 3. 속도값 조절 변수
            int speed = 0;
    
            while(run) {
                System.out.println("--------------------------");
                System.out.println("1. 증가  | 2. 감소 | 3. 종료");
                System.out.println("--------------------------");
                System.out.print("선택하세요 : ");
    
                String stringNum = in.nextLine();
    
                if(stringNum.equals("1")){
                    speed++;
                    System.out.println("현재 속도 = " + speed);
                }
                else if(stringNum.equals("2")){
                    speed--;
                    System.out.println("현재 속도 = " + speed);
                }
                else if(stringNum.equals("3")){
                    run = false;
                }
            }
            System.out.println("엔진 끄기");
    
        }
    }
    
    ```
    
- `do~while` 문
    - 한 번씩 보여줘야 하는 인사말, 대표말을 실행 한뒤, 반복 문으로 들어갈 때 사용
    - `while (조건식);` 조건식 뒤에 `;` 을 작성해야됨.
    
    ```java
    public class doWhileEx01 {
        public static void main(String[] args) {
    
            int x = 10;
            int sum = 0;
    
            do {
                System.out.println("현재 x : " + x);
                sum += x;
                x--;
                System.out.println("처리 후 x, sum : " + x + ", " + sum);
            } while(x>=5);
            System.out.println("-----------------------------");
            System.out.println("최종 sum : " + sum);
    
        }
    }
    ```
    
    ```java
    import java.util.Scanner;
    
    public class doWhileEx02 {
        public static void main(String[] args) {
            System.out.println("메세지를 입력하세요. ");
            System.out.println("프로그램을 종료하려면 q를 입력하세요.");
    
            Scanner in = new Scanner(System.in);
            String inputString;
    
            do {
                System.out.print("> ");
                inputString = in.nextLine();
                System.out.println(inputString);
            } while(!inputString.equals("q"));
            System.out.println("-------------------------");
            System.out.println("채팅 종료");
    
        }
    }
    ```
    
- `break` 문
    - 운전으로 치자면 **급브레이크**의 성격이라 가급적이면 while문의 조건식 검사 등을 통해서 반복문을 탈출하는 것이 좋음
        
        ### ✅ 1. **성능 차이는 거의 없다 (현대 JVM 기준)**
        
        - 대부분의 경우, 조건문 검사(`if (...) return` 또는 루프 조건 자체를 조절)와 `break` 문 사용은 **JVM의 최적화** 덕분에 성능 차이가 **미미하거나 무시해도 될 수준**입니다.
        - JIT(Just-In-Time) 컴파일러는 반복문 최적화를 매우 잘 수행하므로, 코드 구조가 간단한 경우 성능 차이는 **측정하기 어려울 정도**로 작습니다.
    - 브레이크 레이블을 붙여서 중첩 반복문 전체를 중지할 수 있음. 레이블 `Outter`를 사용하여 안쪽 for문에서 발생한 예외 상황으로 바깥쪽 `for` 문까지 중지함.
    
    ```java
    public class breakEx02 {
        public static void main(String[] args) {
            // 반복문이 중첩이 되면 break를 사용 시 가장 가까운 반복문만 종료되고, 바깥 반복문은 종료시키지 않는다.
            // 중첩 반복문에서 바깥쪽 반복문까지 종료시키려면 바깥쪽 반복문에 레이블(이름)을 붙이고 break 레이블;
    
            Outter:
            for(char upper= 'A'; upper <= 'Z'; upper++) {
    
                for(char lower= 'a'; lower <= 'z'; lower++) {
                    System.out.println(upper + " - " + lower);
                    if (lower == 'k'){
                        break Outter;
                    }
                }
            }
        }
    }
    
    ```
    
- `continue` 문
    - 블록 내부에서 `continue` 문이 사용되면, `for` 문의 증감식, `while, do-while`
    문의 조건식으로 바로 이동한다.
    
    ```java
    public class continueEx01 {
        // continue문은 반복문인 for, while, do-while에서만 사용된다.
        // 블록 내부에서 continue 문이 사용되면, for문의 증감식, 또는 while, do-while문의 조건식으로 바로 이동한다.
    
        // continue문은 반복문을 종료시키지 않고 계속 반복을 수행한다는 점이 break문과 다르다.
        public static void main(String[] args) {
            // 1부터 10사이의 수 중 짝수만 출력하고 홀수인 경우 스킵하고 반복으로 넘어가게 작성
            for (int i=1; i <=10; i++) {
                System.out.println("i = " + i);
                if(i % 2 !=0){
                    continue;
                }
                System.out.println("결과 출력: " + i);
            }
        }
    }
    ```
    
- 종합 실습
    - 이름, 전화번호 같은 재사용해야 되는 변수를 `main()` 메소드 밖에 클래스 정적 변수로 선언할 수도 있음.
    - 메뉴를 콘솔에서 출력할 때 깔끔하게 하는 코드 : `%-20s\t%s` : 20개의 자리를 만들어 놓고 남으면 뒤에 공백으로 20자리를 채운 뒤 탭을 하고 다음 문자열을 출력함.
```java
// 각 메뉴별 명칭에 관계없이 좌우 정렬을 유지하도록 출력
        String menuFormat = """
            *******************************************************
                    Welcome to Shopping Mall
                    Welcome to Book Market!
            *******************************************************
             %-20s\t%s
             %-20s\t%s
             %-20s\t%s
             %-20s\t%s
            ******************************************************* 
            """;
            
            // 메뉴 출력
            System.out.printf(menuFormat,
                    "1. 고객 정보 확인하기", "4. 바구니에 항목 추가하기",
                    "2. 장바구니 상품 목록 보기", "5. 장바구니의 항목 수량 줄이기",
                    "3. 장바구니 비우기", "6. 장바구니의 항목 삭제하기",
                    "7. 영수증 표시하기", "8. 종료");
                    
						switch (menuNum) {
                case 1:
                    // 이름 길이에 관계없이 정렬 형식을 유지하도록 출력
                    System.out.printf("현재 고객 정보 :\n이름 %-5s\t연락처 %s\n", name, phoneNumber);
                    break;

        //메뉴 번호 구별 변수
        int menu_num = 0;

        //메뉴판 문자열
        String divLine = "*******************************************************";
        String welcomeMent1 = "Welcome to Shopping Mall";
        String welcomeMent2 = "Welcome to Book Market";
        String menu1 = "1. 고객 정보 확인하기";
        String menu2 = "2. 장바구니 상품 목록 보기";
        String menu3 = "3. 장바구니 비우기";
        String menu4 = "4. 바구니에 항목 추가하기";
        String menu5 = "5. 장바구니의 항목수량 줄이기";
        String menu6 = "6. 장바구니의 항목 삭제하기";
        String menu7 = "7. 영수증 표시하기";
        String menu8 = "8. 종료";

        // 메뉴판 만들기
        while (menu_num != 8){
            System.out.printf("%s\n", divLine);
            System.out.printf("        %s\n", welcomeMent1);
            System.out.printf("        %s\n", welcomeMent2);
            System.out.printf("%s\n", divLine);
            System.out.printf(" %-20s%s \n", menu1, menu4);
            System.out.printf(" %s   %s \n", menu2, menu5);
            System.out.printf(" %-20s%s \n", menu3, menu6);
            System.out.printf(" %-20s%s \n", menu7, menu8);
            System.out.printf("%s\n", divLine);
```