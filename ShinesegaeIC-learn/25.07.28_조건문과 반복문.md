# 25.07.28.(수) 조건문과 반복문

- `InputStreamReader` 의 역할과 책임
    - 바이트 스트림을 문자 스트림으로 변환(Bridge): 바이트 기반 입력 스트림(ex. `FileInputStream`, `Socket.getInputStream()`, `System.in`(바이트 스트림))을 문자 기반 입력 스트림으로 변환하는 ‘다리(bridge)’ 역할. 자바 내부에서 문자는 유니코드(UTF-16)로 처리되는데, 외부에서 들어오는 데이터는 다양한 인코딩(UTF-8, EUC-KR 등)을 가진 바이트 형태로 들어올 수 있음. `InputStreamReader`는 이 바이트 데이터를 지정된 문자 인코딩에 따라 올바른 유니코드 문자로 디코딩함.
    - 문자 인코딩 처리 : 생성 시 인코딩 방식을 지정할 수 있어, 다양한 문자 인코딩을 가진 데이터를 올바르게 읽을 수 있도록 함. 만약, 인코딩을 지정하지 않으면 플랫폼의 기본 인코딩을 사용
    - 책임:
        - 바이트 읽기 : 하위 `InputStream` 으로부터 바이트를 읽어옴
        - 인코딩/디코딩 : 읽어온 바이트를 지정된 문자 인코딩에 따라 유니코드 문자로 변환함.
        - 문자 단위 읽기 : `read()` 메소드를 통해 단일 문자 또는 문자 배열을 읽어올 수 있음
        - 자원 관리 : 스트림이 닫히면 관련된 하위 `InputStream`도 함께 닫아 시스템 자원을 해제함.
- `BufferedReader` : 입/출력 속도 보다 CPU 의 연산 속도가 빠르므로 속도 차이를 보완하고자 버퍼를 두어서 데이터를 저장하고 보내주는 수도꼭지의 헤드같은 역할
    - 버퍼링을 통한 효율적인 읽기 : 문자 기반 입력 스트림(`FileReader`, `InputStreamReader`)에 버퍼링 기능을 추가하여 입출력 성능을 향상시키는 것. 한 번에 많은 양의 데이터를 버퍼에 미리 읽어와 필요할 때 버퍼에서 제공함으로써, 실제 디스크나 네트워크에 접근하는 횟수를 줄여 I/O 오버헤드를 감소시킴.
    - 라인 단위 읽기 : `readLine()` 메소드를 제공하여 한 줄씩 텍스트를 읽을 수 있도록 함. 이는 특히 텍스트 파일을 처리하거나 콘솔 입력을 받을 때 유용함.
    - 책임
        - 버퍼 관리 : 내부적으로 버퍼(기본 크기 8192 문자)를 유지하고, 하위 `Reader`로 부터 데이터를 미리 읽어와 버퍼에 채움
        - 효율적인 문자/배열/라인 읽기 : `read()`, `read(char[] cbuf, int offset, int length)`, `readLine()` 등의 메소드를 통해 버퍼에서 데이터를 효율적으로 제공함
        - 라인 구분자 처리 : `readLine()` 메소드 사용 시 시스템에 맞는 라인 구분자(예: `\n`, `\r\n`)를 자동으로 처리하여 순수한 텍스트 라인을 반환함.
        - 자원 관리 : 스트림이 닫히면 관련된 하위 `Reader` 도 함께 닫아 시스템 자원을 해제함.
- 함께 사용하는 이유:
    - 바이트 → 문자 변환 : `System.in`과 같은 바이트 스트림은 문자 데이터를 직접 처리하지 못함. `InputStreamReader`는 바이트 스트림을 자바의 문자 체계에 맞게 변환하는 역할
    - 성능 향상 : `InputStreamReader` 자체는 버퍼링 기능이 없어, `read()`를 호출할 때마다 하위 스트림에서 한 바이트씩 읽어와 변환하는 비효율이 발생할 수 있음. `BufferedReader`는 이러한 `InputStreamReader`를 감싸서 버퍼링을 제공함으로써 실제 I/O 작업 횟수를 줄여 읽기 성능을 크게 향상시킴.
    - 편의성 : `BufferedReader`의 `readLine()` 메소드는 한 줄 단위로 입력을 처리할 때 편리

## 코드 실행 흐름 제어

1. 제어문 정의

> 자바프로그램은 `main()` 메소드의 시작부터 끝까지 위에서 아래로 실행하는 흐름을 가지고 있다. 이 흐름을 개발자가 원하는 방향으로 바꿀 수 있도록 해주는 것
> 

1-1. 조건문 (if, if-else, if-else if, …, switch)

주사위 문제

주사위를 굴려서 나올 수 있는 1,2,3,4,5,6 중에서 하나의 수를 뽑아서 출력하는 프로그램을 작성해보자

임의의 정수를 뽑기 위한 `Math.random()` 을 이용하여 임의의 수를 생성해 낼 수 있다.

`Math.random()` : `public static double random()` → 
0.0 이상 1.0 미만인 double 형 실수 반환하는 메소드

⇒ `(int)(Math.random()*6)` : 0, 1, 2, 3, 4, 5 중에 하나를 반환해줌

⇒ `(int)(Math.random()*6)+1` : 1, 2, 3, 4, 5, 6 중에 하나를 반환해줌

if 문은 조건식의 결과가 true, false 밖에 없기 때문에 경우의 수가 많아지면 else if 문을 추가해야되서 코드가 복잡해짐. 즉, 가독성이 떨어짐. 

→ switch 문 사용하여 변수의 값에 따라 실행문이 결정되므로 코드가 간결해진다.

- `default` 문장은 `break;` 할 필요가 없음.
- switch(byte, short, char, int, long) 과 문자열(String) 변수를 사용할 수 있다.
- 사용 예시

```java
import java.util.Scanner;

public class SwitchEx02 {
    public static void main(String[] args) {
        // 사용자에게 A~C 중 한 문자를 받아서 'A' ==> "매우 우수" 'B' ==> "우수" 'C' ==> "노력하세요"
        Scanner sc = new Scanner(System.in);
        System.out.println("학점을 입력하세요. A,B,C 중");

        char grade = sc.next().charAt(0);

        switch (grade) {
            case 'A':
                System.out.println("매우 우수");
                break;
            case 'B':
                System.out.println("우수");
                break;
            case 'C':
                System.out.println("노력하세요");
                break;
            default:
                System.out.println("잘못된 문자 입력입니다.");

        }
    }
}
```

1-2. 반복문 (for, while, do-while)

http://www.flowgorithm.org/download/index.html

- `IntStream` 및 람다식 활용하기!
```java
IntStream intStream = IntStream.rangeClosed(65,90);
intStream.forEach(e-> System.out.print((char)e));
//A부터 Z까지 대문자 알파벳 출력
```

```java
public class 반복제어문2_연습문제3 {
    public static void main(String[] args) {
        for(int i=1;i<20;i+=2) System.out.print(i+" ");
        System.out.println();
        IntStream intStream = IntStream.rangeClosed(1,20);
        intStream.filter(n -> n%2==1).forEach(e-> System.out.print(e + " "));
    }
}
```